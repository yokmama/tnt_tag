# Game Rules（ゲームルール）

TNT TAGのゲームルールとメカニクスの詳細説明です。

## 目次

- [基本ルール](#基本ルール)
- [ラウンド詳細](#ラウンド詳細)
- [TNTシステム](#tntシステム)
- [タグメカニクス](#タグメカニクス)
- [爆発メカニクス](#爆発メカニクス)
- [勝利条件](#勝利条件)
- [戦略とコツ](#戦略とコツ)

## 基本ルール

### ゲームの流れ

1. **参加フェーズ**
   - プレイヤーが `/tnttag join` で参加
   - 20人以上集まるとカウントダウン開始

2. **ゲーム開始**
   - 全員がアリーナの中央にテレポート
   - Speed I（移動速度上昇I）が付与

3. **ラウンド進行**（全6ラウンド）
   - 各ラウンド開始時にTNT保持者をランダム選出
   - 3秒のカウントダウン後、移動可能
   - TNTの押し付け合い
   - 時間切れでTNT保持者が爆発

4. **ゲーム終了**
   - 全6ラウンド終了後、リザルト表示
   - 最後まで生き残ったプレイヤーが勝者

### 核となるルール

#### TNT譲渡のルール
- **TNT保持者（鬼）が非保持者を殴る**とTNTを渡せる
- 非保持者同士、非保持者から保持者への攻撃は無効
- タグ成功後0.5秒のクールダウン（連続タグ防止）

#### ダメージルール
- **プレイヤー同士のダメージは完全無効**（PVP無効）
- 爆発ダメージのみ有効（TNT保持者のみ）
- 落下ダメージ、環境ダメージは通常通り

#### 脱落ルール
- **時間切れ時にTNTを持っているプレイヤーのみが爆発**
- 爆発の巻き込みダメージなし
- 脱落したプレイヤーは観戦モードへ移行

---

## ラウンド詳細

全6ラウンドの詳細な設定です。

### ラウンド1: ウォームアップ

| 項目 | 設定 |
|-----|-----|
| TNT保持者数 | 1人 |
| ラウンド時間 | 40秒 |
| 特殊効果 | なし |

**特徴**:
- 最も長い時間
- TNT保持者は1人のみ
- ゲームに慣れるための導入ラウンド

**戦略**:
- TNT保持者: 素早く他のプレイヤーにタグ
- 非保持者: TNT保持者から距離を取る

---

### ラウンド2: 加速

| 項目 | 設定 |
|-----|-----|
| TNT保持者数 | 全体の25% |
| ラウンド時間 | 30秒 |
| 特殊効果 | なし |

**特徴**:
- 複数のTNT保持者が登場
- 時間が短縮
- 緊張感が増す

**戦略**:
- TNT保持者が増えるため、逃げ場を確保
- 周囲の状況を常に確認

---

### ラウンド3: 中盤戦

| 項目 | 設定 |
|-----|-----|
| TNT保持者数 | 全体の25% |
| ラウンド時間 | 30秒 |
| 特殊効果 | なし |

**特徴**:
- ラウンド2と同じ設定
- 生存者が減少し、密度が高まる

---

### ラウンド4: 混沌

| 項目 | 設定 |
|-----|-----|
| TNT保持者数 | 全体の50% |
| ラウンド時間 | 25秒 |
| 特殊効果 | なし |

**特徴**:
- **半数がTNT保持者**
- 最も短い時間
- 極度の緊張状態

**戦略**:
- どこにいても危険
- 積極的に動く必要がある
- TNT保持者同士でタグし合う

---

### ラウンド5: 発光開始

| 項目 | 設定 |
|-----|-----|
| TNT保持者数 | 全体の33% |
| ラウンド時間 | 40秒 |
| 特殊効果 | **全員発光** |

**特徴**:
- 全プレイヤーが発光エフェクトで視認可能
- 隠れることが不可能に
- 時間が再び長くなる

**戦略**:
- 隠れる戦略は使えない
- 移動速度と判断力が重要
- 壁越しでも相手の位置が分かる

---

### ラウンド6: 最終決戦

| 項目 | 設定 |
|-----|-----|
| TNT保持者数 | 全体の33% |
| ラウンド時間 | 50秒 |
| 特殊効果 | **全員発光** |

**特徴**:
- 最長の時間
- 全員発光
- 最後の生存者を決める

**戦略**:
- 体力とスタミナの勝負
- 長期戦に備える
- 最後まで冷静に判断

---

## TNTシステム

### 視覚的表現

#### TNT保持者の特徴
- **頭がTNTブロックに変化**
- **赤い発光エフェクト**（ラウンド5,6では全員発光）
- **パーティクルエフェクト**:
  - 煙パーティクル
  - 火花パーティクル
  - 赤いダストパーティクル
- **TNTの点滅**:
  - 残り時間30秒以上: ゆっくり点滅
  - 残り時間15秒以下: 高速点滅
  - 残り時間5秒以下: 超高速点滅

#### 非保持者の表示
- 通常の頭（プレイヤースキン）
- 緑の発光エフェクト（ラウンド5,6）
- パーティクルなし

### 音響効果

| タイミング | サウンド | 説明 |
|----------|---------|------|
| TNT保持開始 | 導火線の音（ループ） | シューッという音 |
| タグ成功 | 衝撃音 | パン！という音 |
| 残り10秒 | 警告音 | ビービー音 |
| 残り5秒 | 緊急警告音 | 高速ビープ音 |
| 爆発 | 大爆発音 | ドカーン！ |

### スピードブースト

| 状態 | 効果 | 移動速度 |
|-----|-----|---------|
| TNT保持者 | Speed II | +40% |
| 非保持者 | Speed I | +20% |

TNT保持者は非保持者より速く移動できます。

---

## タグメカニクス

### タグの方法

1. **TNT保持者が非保持者に近づく**
2. **左クリック（攻撃）で殴る**
3. **タグ成功！**

### タグ判定

- **判定距離**: 3ブロック
- **クールダウン**: 0.5秒
- **有効な組み合わせ**: TNT保持者 → 非保持者のみ

### タグ成功時の処理

1. TNTが相手に移動
2. 元保持者のSpeed IIがSpeed Iに変更
3. 新保持者にSpeed IIが付与
4. エフェクトとサウンドが再生
5. 両者に通知メッセージ

### タグのクールダウン

タグ後0.5秒間は再びタグできません。これにより：
- 連続タグの防止
- タグのやり取りを意図的に行う必要
- 戦略的なタグが重要に

---

## 爆発メカニクス

### 爆発の条件

- ラウンド時間が0になる
- TNTを保持している

### 爆発の処理

1. **3秒間のカウントダウン**
   - タイトル表示: `💥 爆発まで 3... 2... 1... 💥`
   - 全プレイヤーに警告音

2. **爆発エフェクト**
   - 大爆発パーティクル
   - 煙のリング
   - 爆発音

3. **プレイヤーの処理**
   - TNT保持者が脱落
   - 観戦モードへ移行
   - 次のラウンドには参加不可

### 重要な特徴

- **巻き込みダメージなし**
- **ブロック破壊なし**
- **視覚的な演出のみ**
- **保持者のみが脱落**

---

## 勝利条件

### 個人戦

**最後まで生き残ったプレイヤーが勝者**

複数人が最終ラウンドを生き残った場合：
- 全員が勝者として扱われる
- 同率1位として記録

### 勝利時の演出

1. **タイトル表示**
   ```
   🏆 VICTORY! 🏆
   最後の生存者！
   ```

2. **エフェクト**
   - 花火が10発（0.5秒間隔）
   - 金色のパーティクル
   - 発光エフェクト（金色）

3. **ポディウムへテレポート**（オプション）
   - 1位、2位、3位の表彰台

4. **リザルト表示**
   - 全プレイヤーの順位
   - 生存ラウンド数
   - 統計情報

---

## 戦略とコツ

### 基本戦略

#### 非保持者の場合

1. **距離を保つ**
   - TNT保持者から3ブロック以上離れる
   - 壁越しでもタグされる可能性あり

2. **逃走ルートを確保**
   - 常に複数の逃げ道を意識
   - 行き止まりに追い込まれないように

3. **他のプレイヤーを盾にしない**
   - TNT保持者は他の人を狙うかも
   - 集団で固まると危険

4. **発光を活用**（ラウンド5,6）
   - 壁越しでも敵の位置が分かる
   - 事前に逃走準備

#### TNT保持者の場合

1. **素早くタグする**
   - Speed IIを活かす
   - 残り時間を常に意識

2. **ターゲットを絞る**
   - 逃げ場の少ないプレイヤーを狙う
   - 行き止まりに追い込む

3. **予測して動く**
   - 相手の逃走ルートを予測
   - 先回りする

4. **複数の選択肢を持つ**
   - 1人に固執しない
   - タグしやすい相手に切り替える

### 高度なテクニック

#### ジュークムーブ
- 左右に素早く移動
- タグを回避

#### ウォールライディング
- 壁沿いを移動
- 追跡者を振り切る

#### フェイント
- 一方向に動いて急反転
- TNT保持者を惑わす

#### グループ戦術
- 複数人で協力
- TNT保持者を翻弄

### ラウンド別戦略

| ラウンド | TNT保持者 | 非保持者 |
|---------|----------|----------|
| 1 | 1人を集中的に追う | 広く散らばる |
| 2-3 | 近くの相手を狙う | 保持者から遠ざかる |
| 4 | 積極的にタグ合戦 | 常に動き続ける |
| 5-6 | 位置を把握してタグ | 発光を利用して回避 |

### よくある失敗

1. **行き止まりに逃げる**
   - 逃げ場がなくなる
   - タグされやすい

2. **TNT保持者を集団で囲む**
   - 誰かが確実にタグされる
   - 自分がターゲットになるリスク

3. **残り時間を無視**
   - TNT保持者は時間との戦い
   - 焦って判断ミス

4. **他のプレイヤーに夢中**
   - 別のTNT保持者に気づかない
   - 複数保持者ラウンドで特に危険

---

## FAQ

### Q: TNT保持者同士でタグできますか？
**A**: いいえ、できません。TNT保持者は非保持者にのみタグできます。

### Q: 複数人がTNTを持っている場合、全員爆発しますか？
**A**: はい、時間切れ時にTNTを持っている全員が爆発します。

### Q: 落下ダメージで死にますか？
**A**: 設定によります。通常は無効化されていますが、有効な場合は死亡します。

### Q: 途中参加できますか？
**A**: ゲーム開始前のみ参加可能です。ゲーム中は参加できません。

### Q: 途中退出するとどうなりますか？
**A**: 脱落扱いとなり、統計に記録されます。ペナルティはありません。

### Q: 観戦モードで何ができますか？
**A**: ゲームの観戦のみ可能です。プレイヤーへの干渉はできません。

---

**関連ページ**:
- [Configuration](Configuration) - ゲーム設定のカスタマイズ
- [Arena Setup](Arena-Setup) - アリーナの最適な設計
- [Commands](Commands) - コマンド一覧
